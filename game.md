# Геймдизайн-документ: Echoes of 80s

---

## 1. Общая концепция (High Concept)

*   **Жанр:** Текстово-графический рогалик-лайт (Roguelike-Lite) с элементами тактической головоломки.
*   **Сеттинг:** Техно-нуар 1980-х. Неоновые интерфейсы, киберпанк-атмосфера, эстетика старых терминалов.
*   **Ключевая цель:** Устранить четырех Ликвидаторов (**H**, **F**, **K**, **C**) за один временной цикл из 4 ходов, чтобы собрать 4 фрагмента кода и получить доступ к финальной цели — Главному Архитектору.
*   **Уникальное торговое предложение (USP):** Игра-головоломка, где мир — это расписание четырех персонажей. Игрок манипулирует их поведением и событиями, чтобы создать идеальные условия для ликвидации. Элементы Roguelike-Lite (сохраняемые знания) мотивируют к повторным прохождениям.

---

## 2. Игровой цикл (Core Loop)

1.  **Планирование:** Игрок анализирует сетку 4x4 (Локации x Время) и доступную информацию в инвентаре.
2.  **Действие:** Игрок делает один ход, выбирая одну из четырех локаций в текущем временном отрезке.
3.  **Последствия:** Выбор приводит к устранению цели, получению информации, изменению мира или провалу.
4.  **Продвижение:** Время сдвигается на следующий отрезок (**День** -> **Сумерки** -> **Вечер** -> **Ночь**).
5.  **Финал цикла:** После 4-го хода цикл завершается.
    *   **Успех:** Если все 4 фрагмента кода собраны, открывается доступ к **Вышке**.
    *   **Неудача:** Если хотя бы один фрагмент отсутствует, доступ блокируется.
6.  **Перезагрузка:** При перезагрузке сбрасывается сессионный прогресс, но сохраняется постоянный (знания, пароли), облегчая следующие попытки.

---

## 3. Игровой мир и правила

*   **Сетка (Grid System):** Поле 4x4.
    *   **Локации:** **Лаборатория**, **Логово Хакера**, **Улицы**, **База**.
    *   **Время:** **День**, **Сумерки**, **Вечер**, **Ночь**.

> **Правило «Один на один» (Критическое):** Игрок немедленно проигрывает, если выбирает ячейку, где находятся два или более живых врага.

*   **Перманентная смерть (в рамках цикла):** Убитый враг считается мертвым до конца текущего цикла.
*   **Протокол «КЛЮЧ»:** Доступ к **Вышке** открывается только после устранения всех четырех Ликвидаторов.

---

## 4. Персонажи и Алгоритмы их поведения

### 4.1. Генриетта (H) - Лаборатория

*   **Стандартное расписание:** Находится в **Лаборатории** (**Днём**, **в Сумерки** и **Вечером**).
*   **Условие устранения:** Требуется код от двери (`8080`).
*   **Получение кода:**
    *   **Основной путь:** Попытка войти без кода дает задачу "нужен код".
    *   **Альтернативный путь ("Месть"):** Если убить **Чарли**, на следующий ход **Генриетта** в спешке покидает **Лабораторию**, оставляя записку с кодом.
*   **Добыча:** Фрагмент кода "H".

### 4.2. Фиона (F) - Логово Хакера

*   **Стандартное расписание:** Находится в **Логове** (**в Сумерки** и **Вечером**).
*   **Условие устранения:** Прямой контакт.
*   **Сложная логика:**
    *   **ПК Фионы:** Вне её рабочего времени (**Днём**, **Ночью**) можно взаимодействовать с её ПК.
        *   **Первое взаимодействие:** Инициирует смену пароля.
        *   **Второе взаимодействие (через 2 хода):** Позволяет подсмотреть старый пароль (`ECHO_77`) и устранить **Фиону**.
        *   **Использование пароля:** Зная пароль, можно войти в систему (**Днём**) и отправить **Карлу** сообщение с отменой встречи.
    *   **Поведение после смерти Карла:** Если **Карл** погибает в перестрелке, **Фиона** меняет поведение: **Вечером** она на **Улицах** (место смерти Карла), **Ночью** — в **Логове**.
*   **Добыча:** Фрагмент кода "F". Если устранить её на **Улицах**, когда она скорбит, можно также забрать ключ **Карла (K)**.

### 4.3. Карл (K) - Улицы

*   **Стандартное расписание:** Патрулирует **Улицы** (**Днём**, **Вечером** и **Ночью**). **В Сумерки** идёт на встречу с **Фионой** в **Логово Хакера**.
*   **Условие устранения:** Прямой контакт.
*   **Сложная логика:**
    *   Если игрок предупредил **Карла** через ПК **Фионы**, **Карл** не идёт в **Логово**. Вместо этого, **в Сумерки на Улицах** он попадает в перестрелку и погибает. Игрок может найти его тело и забрать ключ.
*   **Добыча:** Фрагмент кода "K".

### 4.4. Чарли (C) - База

*   **Стандартное расписание:** Находится на **Базе** (**Днём** и **Ночью**).
*   **Механика "Месть":** Убийство **Чарли** активирует тревогу. **На следующий ход** все оставшиеся Ликвидаторы собираются на **Базе** (ловушка для игрока).
*   **Ассистент:** **В Сумерки** и **Вечером** на **Базе** находится ассистент. Его можно допросить, чтобы получить информацию о том, что **Чарли** следит за **Фионой** и **Карлом**.
*   **Добыча:** Фрагмент кода "C".

---

## 5. Состояния игры (State Management)

*   **Постоянное состояние (`persistentState`):**
    *   Сохраняется между циклами.
    *   Включает в себя полученные знания, решённые задачи и пароли.
    *   Это ключевой элемент Roguelike-Lite.
*   **Сессионное состояние (`sessionState`):**
    *   Сбрасывается при каждой перезагрузке.
    *   Включает флаги, актуальные только для текущей попытки (например, был ли Карл предупрежден).