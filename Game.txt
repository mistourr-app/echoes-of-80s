Геймдизайн-документ: Echoes of 80s
1. Концепция игры

Жанр: Текстово-графический рогалик (Roguelike-Lite) с элементами тактического планирования. Сеттинг: Техно-нуар 1980-х. Неоновые интерфейсы, киберпанк-атмосфера, эстетика старых терминалов. Основная цель: Устранить четырех Ликвидаторов за один временной цикл (4 хода), собрать фрагменты кода и получить доступ к Главному Архитектору в Вышке.

2. Игровой цикл (Core Loop)

Планирование: Игрок видит сетку 4x4 (Места x Время).

Действие: Игрок делает 1 выбор на каждом временном этапе (День -> Сумерки -> Вечер -> Ночь).

Последствия: Каждый выбор раскрывает информацию, убивает врага или дает предмет.

Финал: После 4-го хода проверяется наличие всех 4-х фрагментов кода. Если собраны — доступ к главному боссу. Если нет — то по клику на клетку главного босса перезагрузка цикла через диалоговое окно с информацией, почему цикл перезагружен и кнопкой перезагрузки.

3. Мир и Время (Grid System)

Сетка состоит из 4-х локаций (столбцы) и 4-х временных отрезков (строки).

Локации: Лаборатория, Логово хакера, Улицы, База.

Время: День (старт), Сумерки, Вечер, Ночь (финал).

4. Ликвидаторы (Цели)

4.1. Генриетта (Локация: Лаборатория)

Условие убийства: Требуется Код от двери.

Распорядок:

День/Сумерки/Вечер: Находится за запертой дверью.

Ночь: Отсутствует (уходит со смены).

Добыча: Фрагмент кода "H".

4.2. Фиона (Локация: Логово хакера)

Условие убийства: Прямой контакт в рабочее время.

Распорядок:

День/Ночь: Отсутствует. В локации можно найти запароленный ПК.

Сумерки/Вечер: На месте, доступна для ликвидации.

Добыча: Фрагмент кода "F"

4.3. Карл (Локация: Улицы)

Условие убийства: Прямой контакт.

Распорядок:

Патрулирует улицы. В Сумерках находится в Логове вместе с Фионой.

Добыча: Фрагмент кода "K".

4.4. Чарли (Локация: База)

Условие убийства: Прямой контакт.

Распорядок:

День/Ночь: На месте, доступен для ликвидации.

Сумерки/Вечер: Отсутствует. На базе находится Помощник.

Лор: Помощник сообщает о слежке Чарли за Фионой и Карлом.

Добыча: Фрагмент кода "C".

5. Глобальные условия и Состояния

Правило «Один на один» (Критическое): Игрок проигрывает, если на выбранной клетке находится 2 и более любых живых врагов одновременно.

Перманентная смерть: Убитый враг считается мертвым до конца цикла. Повторный визит на локацию в последующее время суток подтверждает ликвидацию.

Протокол «КЛЮЧ»: Доступ к Вышке (в верхней части экрана) открывается только после активации всех 4 индикаторов (H-F-K-C).

6. Технические особенности

Адаптивность: Резиновая верстка (flex-grow), занимающая 100% высоты экрана без скролла.

AI-Интеграция: Использование Gemini API для генерации атмосферных логов в терминале.

Стек: HTML5, Tailwind CSS, Vanilla JS.

7. Реализованный функционал (v0.1)

На данный момент в игре реализованы следующие ключевые механики:

7.1. Игровой процесс:
- **Основной цикл:** Игра состоит из 4 ходов, соответствующих временным отрезкам (День, Сумерки, Вечер, Ночь).
- **Управление состоянием:** Система отслеживает текущий ход, путь игрока по сетке, статус ликвидированных целей (`killed`) и состояние завершения игры.
- **Интерактивная сетка:** Игровое поле 4x4 полностью функционально. Активный ряд подсвечивается, а ячейки в нём кликабельны. Пройденный путь и места убийств отмечаются на сетке.

7.2. Правила и условия:
- **Правило «Один на один»:** Реализована проверка на наличие двух и более врагов в одной ячейке, что приводит к немедленному проигрышу.
- **Механика «Месть»:** После убийства Чарли, на следующий ход все оставшиеся живые враги собираются на Базе.

7.3. Логика локаций и персонажей:
- **Лаборатория:** Дверь заперта, но ночью можно найти записку от Генриетты с её расписанием.
- **Логово Хакера:** Фиону можно ликвидировать в её рабочее время.
- **Улицы:** Карла можно ликвидировать в любое время, кроме Сумерек.
- **База:** Чарли можно ликвидировать Днём или Ночью. В Сумерки и Вечер можно допросить его ассистента, чтобы узнать о слежке за Фионой и Карлом.

7.4. Интерфейс и финал:
- **Терминал:** Динамически выводит логи о действиях игрока и событиях.
- **Индикаторы целей:** Статус `H-F-K-C` обновляется после каждой успешной ликвидации.
- **Завершение цикла:** По окончании 4-го хода активируется область «Вышки». Клик по ней проверяет, все ли цели устранены, и показывает соответствующий экран (победа или поражение).
- **Сброс игры:** Реализована кнопка аварийного сброса цикла с модальным окном подтверждения.